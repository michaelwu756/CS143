\documentclass[12pt]{article}
\usepackage{graphicx}
\begin{document}
\title{Computer Science 143, Homework 3}
\date{May 22nd, 2018}
\author{Michael Wu\\UID: 404751542}
\maketitle

\section*{Part 1}

I found all the distinct company values and was able to generate the following query to convert from a long format to a wide format.
This gave a result with 47 columns and 67 rows.
{\footnotesize
\begin{verbatim}
SELECT company,
  MAX(IF(value='bonded-by-product', 1, 0)) AS bonded_by_product,
  MAX(IF(value='project-ownership', 1, 0)) AS project_ownership,
  MAX(IF(value='friends-outside-work', 1, 0)) AS friends_outside_work,
  MAX(IF(value='feedback', 1, 0)) AS feedback,
  MAX(IF(value='impressive-teammates', 1, 0)) AS impressive_teammates,
  MAX(IF(value='personal-growth', 1, 0)) AS personal_growth,
  MAX(IF(value='fast-paced', 1, 0)) AS fast_paced,
  MAX(IF(value='lunch-together', 1, 0)) AS lunch_together,
  MAX(IF(value='remote-ok', 1, 0)) AS remote_ok,
  MAX(IF(value='customer-first', 1, 0)) AS customer_first,
  MAX(IF(value='many-hats', 1, 0)) AS many_hats,
  MAX(IF(value='quality-code', 1, 0)) AS quality_code,
  MAX(IF(value='open-communication', 1, 0)) AS open_communication,
  MAX(IF(value='internal-promotion', 1, 0)) AS internal_promotion,
  MAX(IF(value='retention', 1, 0)) AS retention,
  MAX(IF(value='product-driven', 1, 0)) AS product_driven,
  MAX(IF(value='worklife-balance', 1, 0)) AS worklife_balance,
  MAX(IF(value='light-meetings', 1, 0)) AS light_meetings,
  MAX(IF(value='flex-hours', 1, 0)) AS flex_hours,
  MAX(IF(value='inclusive', 1, 0)) AS inclusive,
  MAX(IF(value='psychologically-safe', 1, 0)) AS psychologically_safe,
  MAX(IF(value='diverse-team', 1, 0)) AS diverse_team,
  MAX(IF(value='eq-iq', 1, 0)) AS eq_iq,
  MAX(IF(value='parents', 1, 0)) AS parents,
  MAX(IF(value='open-source', 1, 0)) AS open_source,
  MAX(IF(value='continuous-delivery', 1, 0)) AS continuous_delivery,
  MAX(IF(value='engages-community', 1, 0)) AS engages_community,
  MAX(IF(value='cross-dep', 1, 0)) AS cross_dep,
  MAX(IF(value='safe-env', 1, 0)) AS safe_env,
  MAX(IF(value='rapid-growth', 1, 0)) AS rapid_growth,
  MAX(IF(value='new-tech', 1, 0)) AS new_tech,
  MAX(IF(value='creative-innovative', 1, 0)) AS creative_innovative,
  MAX(IF(value='data-driven', 1, 0)) AS data_driven,
  MAX(IF(value='flat-organization', 1, 0)) AS flat_organization,
  MAX(IF(value='engineering-driven', 1, 0)) AS engineering_driven,
  MAX(IF(value='agile-dev', 1, 0)) AS agile_dev,
  MAX(IF(value='pair-programs', 1, 0)) AS pair_programs,
  MAX(IF(value='team-oriented', 1, 0)) AS team_oriented,
  MAX(IF(value='internal-mobility', 1, 0)) AS internal_mobility,
  MAX(IF(value='physical-wellness', 1, 0)) AS physical_wellness,
  MAX(IF(value='benefit-company', 1, 0)) AS benefit_company,
  MAX(IF(value='interns', 1, 0)) AS interns,
  MAX(IF(value='junior-devs', 1, 0)) AS junior_devs,
  MAX(IF(value='risk-taking', 1, 0)) AS risk_taking,
  MAX(IF(value='good-beer', 1, 0)) AS good_beer,
  MAX(IF(value='office-layout', 1, 0)) AS office_layout
FROM keyvalues
GROUP BY company;
\end{verbatim}
}

\section*{Part 2}

\begin{enumerate}
        \item No Subquery with \texttt{DISTINCT} \hfill
        \begin{center}
                \hspace*{-7cm}
                \resizebox{1.3\textwidth}{!}{%
                \begin{tabular}{c|c|c|c|c|c|c|c|c|c|c|c}
                        id & select\_type & table & partitions & type & possible\_keys & key & key\_len & ref & rows & filtered & Extra\\
                        \hline
                        1 & SIMPLE & caltrans & NULL & ALL  & PRIMARY & NULL & NULL & NULL & 103056 & 20.99 & Using where; Using temporary; Using filesort
                \end{tabular}
                }
                \hspace*{-7cm}
        \end{center}
        \item \texttt{SELECT} within a \texttt{SELECT} \hfill
        \begin{center}
                \hspace*{-7cm}
                \resizebox{1.3\textwidth}{!}{
                \begin{tabular}{c|c|c|c|c|c|c|c|c|c|c|c}
                        id & select\_type & table & partitions & type & possible\_keys & key & key\_len & ref & rows & filtered & Extra \\
                        \hline
                        1 & PRIMARY & \textless derived2\textgreater & NULL & ALL & NULL & NULL & NULL & NULL & 2402 & 100.00 & Using temporary; Using filesort \\
                        2 & DERIVED & caltrans & NULL & ALL & PRIMARY & NULL & NULL & NULL & 103056 & 2.33 & Using where; Using temporary; Using filesort
                \end{tabular}
                }
                \hspace*{-7cm}
        \end{center}
        \item \texttt{JOIN} as a Filter \hfill
        \begin{center}
                \hspace*{-7cm}
                \resizebox{1.3\textwidth}{!}{
                \begin{tabular}{c|c|c|c|c|c|c|c|c|c|c|c}
                        id & select\_type & table & partitions & type & possible\_keys & key & key\_len & ref & rows & filtered & Extra \\
                        \hline
                        1 & PRIMARY & \textless derived2\textgreater & NULL & ALL & NULL & NULL & NULL & NULL & 24047 & 100.00 & Using temporary; Using filesort \\
                        2 & DERIVED & c & NULL & ALL & PRIMARY & NULL & NULL & NULL & 103056 & 2.33 & Using where; Using temporary; Using filesort \\
                        2 & DERIVED & \textless derived3\textgreater & NULL & ref & \textless auto\_key0\textgreater & \textless auto\_key0\textgreater & 8 & hw2.c.highway & 10 & 100.00 & NULL \\
                        3 & DERIVED & caltrans & NULL & ALL & PRIMARY & NULL & NULL & NULL & 103056 & 2.33 & Using where; Using temporary
                \end{tabular}
                }
                \hspace*{-7cm}
        \end{center}
        \item Using an \texttt{IN} Subquery as a Filter\hfill
        \begin{center}
                \hspace*{-7cm}
                \resizebox{1.3\textwidth}{!}{
                \begin{tabular}{c|c|c|c|c|c|c|c|c|c|c|c}
                        id & select\_type & table & partitions & type & possible\_keys & key & key\_len & ref & rows & filtered & Extra \\
                        \hline
                        1 & PRIMARY & \textless derived2\textgreater & NULL & ALL & NULL & NULL & NULL & NULL & 2402 & 100.00 & Using temporary; Using filesort \\
                        2 & DERIVED & c & NULL & ALL & PRIMARY & NULL & NULL & NULL & 103056 & 2.33 & Using where; Using temporary; Using filesort \\
                        2 & DERIVED & \textless subquery3\textgreater & NULL & eq\_ref & \textless auto\_key\textgreater & \textless auto\_key\textgreater & 265 & hw2.c.highway,hw2.c.area & 1 & 100.00 & NULL \\
                        3 & MATERIALIZED & caltrans & NULL & ALL & NULL & NULL & NULL & NULL & 103056 & 2.33 & Using where
                \end{tabular}
                }
                \hspace*{-7cm}
        \end{center}
        \item Formal Left Semijoin \hfill
        \begin{center}
                \hspace*{-7cm}
                \resizebox{1.3\textwidth}{!}{
                \begin{tabular}{c|c|c|c|c|c|c|c|c|c|c|c}
                        id & select\_type & table & partitions & type & possible\_keys & key & key\_len & ref & rows & filtered & Extra \\
                        \hline
                        1 & PRIMARY & \textless derived2\textgreater & NULL & ALL & NULL & NULL & NULL & NULL & 2402 & 100.00 & Using temporary; Using filesort \\
                        2 & DERIVED & c & NULL & ALL & PRIMARY & NULL & NULL & NULL & 103056 & 2.33 & Using where; Using temporary; Using filesort \\
                        3 & SUBQUERY & caltrans & NULL & ALL & NULL & NULL & NULL & NULL & 103056 & 2.33 & Using where
                \end{tabular}
                }
                \hspace*{-7cm}
        \end{center}
\end{enumerate}

\section*{Part 3}

\subsection*{Problem 1}

\subsection*{Problem 2}

\subsection*{Problem 3}

\subsection*{Problem 4}

\subsection*{Problem 5}

\end{document}